<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width,initial-scale=1.0">
  <link rel="icon" href="<%= BASE_URL %>favicon.ico">
  <title>八棵树微信公众号</title>
  <script>
    // 网页授权之获取code
    const code = getUrlParam("code"),
      openId = window.localStorage.getItem("openId");
    if (!openId && !code) {
      // const appid = "wx17fff7cd77ac6770",
      const appid = "wx16a7efa3b98c4832",
        url = encodeURIComponent(location.href.split('#')[0] + "personal");
      window.location.href = 'https://open.weixin.qq.com/connect/oauth2/authorize?appid=' + appid + '&redirect_uri=' + url + '&response_type=code&scope=snsapi_userinfo&state=STATE#wechat_redirect'
    }
    //获取url中参数
    function getUrlParam(name) {
      var reg = new RegExp("(^|&)" + name + "=([^&]*)(&|$)");
      var r = window.location.search.substr(1).match(reg);
      if (r != null) return decodeURI(r[2]);
      return null;
    }  
  </script>
</head>

<body>
  <noscript>
    <strong>We're sorry but wx-driver doesn't work properly without JavaScript enabled. Please enable it to
      continue.</strong>
  </noscript>

  <div id="app"></div>
  <!-- built files will be auto injected -->
</body>

</html>